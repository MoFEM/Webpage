<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=9"/>
  <meta name="generator" content="Doxygen 1.12.0"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>MoFEM: Using Gmsh</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
  <script type="text/javascript " src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML "></script>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        extensions: ["AMSmath.js"],
        TeX: { equationNumbers: { autoNumber: ["all"],
                                  useLabelIds: true
        } 
        }
    });
    </script>
  <link href="customdoxygen.css" rel="stylesheet" type="text/css" />
  <link href="extra_style.css" rel="stylesheet" type="text/css"/>
  <link rel="apple-touch-icon" sizes="57x57" href="apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="shortcut icon" type="image/png" href="favicon-32x32.png"/>
  <link rel="Bookmark" type="image/png" href="favicon-32x32.png"/>
  <link rel="manifest" href="manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div style="background-color:#011A40" id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 30px;">
  <td id="projectlogo"><img alt="Logo" src="MoFEMLogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <td style="padding-left: 0.5em;" bgcolor="#011A40"
   <div id="projectbrief"><font color="#FFFFFF">v0.14.0</font></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!--Google analytics tags-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-65236130-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2J9RE2P3H5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-2J9RE2P3H5');
</script>
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="runningprograms.html">Programs</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Using Gmsh</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul>
  <li class="level1">
    <a href="#using_Gmsh_tut_geometry">Creating geometry</a>
  </li>
  <li class="level1">
    <a href="#using_Gmsh_physical_groups">Creating physical groups</a>
  </li>
  <li class="level1">
    <a href="#using_Gmsh_tut_meshing">Meshing</a>
  </li>
  <li class="level1">
    <a href="#using_Gmsh_tut_solution">Solution</a>
  </li>
  <li class="level1">
    <a href="#using_Gmsh_tut_post_process">Post-processing</a>
  </li>
</ul>
</div>
<div class="textblock"><p>In this tutorial, the use of <a href="http://gmsh.info/">Gmsh</a> is explained as an alternative pre-processor. The version of the Gmsh used for this tutorial is 4.0.6 (MacOSX). A step-by-step procedure is given here to solve a linear-elastic cantilever beam problem subjected to uniform pressure.</p>
<h1><a class="anchor" id="using_Gmsh_tut_geometry"></a>
Creating geometry</h1>
<p>A new geometry file is created in Gmsh using the following procedure:</p>
<div class="fragment"><div class="line">File -&gt; New -&gt; Choose location -&gt; chose name, e.g. gmesh_beam.geo -&gt; Save -&gt; OpenCASCADE</div>
</div><!-- fragment --><p>Subsequently, the beam geometry is created using the following steps: </p><div class="fragment"><div class="line">Module -&gt; Geometry -&gt; Elementary entities -&gt; Add -&gt; Box</div>
</div><!-- fragment --><p>and use, e.g. the following inputs: X=0, Y=0, Z=0, DX=10, DY=1, DZ=1 then click "add" and subsequently press "q" to abort. The output beam geometry is shown in following Figure:</p>
<div class="image">
<img src="gmsh_geo_fig1.png" alt="" width="700px"/>
<div class="caption">
Beam geometry</div></div>
<h1><a class="anchor" id="using_Gmsh_physical_groups"></a>
Creating physical groups</h1>
<p>Physical groups, i.e. physical volumes and physical surfaces are used to define material blocks and boundary conditions. For the beam problem, "Volume 1" is used for assigning material properties including Young's modulus and Poisson's ratio. Similarly, surfaces "Plane 1" and "Plane 4" are used to define displacement and pressure boundary conditions. The following procedure are used to define the physical volume:</p>
<div class="fragment"><div class="line">Module -&gt; Physical groups -&gt; Add -&gt; Volume</div>
</div><!-- fragment --><p>give it a name, e.g. ElasticBlock and select "Volume 1" and press "e" to end and "q" to abort. Similarly, for the displacement boundary condition use the following procedure:</p>
<div class="fragment"><div class="line">Module -&gt; Geometry -&gt; Physical groups -&gt; Add -&gt; Surface</div>
</div><!-- fragment --><p>give it a name, e.g. DispBC and select "Plane 1" and press "e" to end "q" to abort. Finally, for the pressure boundary conditions use the following procedure:</p>
<div class="fragment"><div class="line">Module -&gt; Physical groups -&gt; Add -&gt; Surface</div>
</div><!-- fragment --><p>give it a name, e.g. PressureBC and select "Plane 4" and press "e" to end "q" to abort. These physical group can be seen in the Visibility dialog box by using:</p>
<div class="fragment"><div class="line">Tools -&gt; Visibility -&gt; Physical groups</div>
</div><!-- fragment --><p>For the beam problem, "Visibility" dialog box with three physical groups are shown in the following figure.</p>
<div class="image">
<img src="gmsh_geo_fig2.png" alt="" width="700px"/>
<div class="caption">
Physical groups view in the Visibility dialog box</div></div>
<p>Alternatively, these physical groups can also be seen by switching on "Surface labels" and "Volume labels" in the "Option" dialog box, which can be open using:</p>
<div class="fragment"><div class="line">Tools -&gt; Option -&gt; Geometry</div>
</div><!-- fragment --><p>For the beam problem, the "Option" dialog box is shown as following figure:</p>
<div class="image">
<img src="gmsh_geo_fig3.png" alt="" width="700px"/>
<div class="caption">
Physical groups view using Option dialog box</div></div>
<p>These <em><a class="el" href="gmesh__beam_8geo.html">gmesh_beam.geo</a></em> file can be open in any text editor and provide alternative way to change the geometry. The <em>gemsh_beam.geo</em> file is shown as follows:</p>
<div class="fragment"><div class="line">// Gmsh project created on Thu Dec 20 09:20:14 2018</div>
<div class="line">SetFactory(&quot;OpenCASCADE&quot;);</div>
<div class="line">Box(1) = {0, 0, 0, 10, 1, 1};</div>
<div class="line"> </div>
<div class="line">Physical Volume(&quot;ElasticBlock&quot;) = {1};</div>
<div class="line">Physical Surface(&quot;DispBC&quot;) = {1};</div>
<div class="line">Physical Surface(&quot;PressureBC&quot;) = {4};</div>
</div><!-- fragment --><h1><a class="anchor" id="using_Gmsh_tut_meshing"></a>
Meshing</h1>
<p>The beam geometry can be meshed using the following procedure</p>
<div class="fragment"><div class="line">Module -&gt; Mesh -&gt; 1<a class="code hl_variable" href="initial__diffusion_8cpp.html#ad8657a5ec76e12f3066fb4b4eb75ace9">D</a> -&gt; 2<a class="code hl_variable" href="initial__diffusion_8cpp.html#ad8657a5ec76e12f3066fb4b4eb75ace9">D</a> -&gt; 3<a class="code hl_variable" href="initial__diffusion_8cpp.html#ad8657a5ec76e12f3066fb4b4eb75ace9">D</a></div>
<div class="ttc" id="ainitial__diffusion_8cpp_html_ad8657a5ec76e12f3066fb4b4eb75ace9"><div class="ttname"><a href="initial__diffusion_8cpp.html#ad8657a5ec76e12f3066fb4b4eb75ace9">D</a></div><div class="ttdeci">double D</div><div class="ttdef"><b>Definition</b> <a href="initial__diffusion_8cpp_source.html#l00044">initial_diffusion.cpp:44</a></div></div>
</div><!-- fragment --><p>The generated tetrahedral mesh is shown in the following Figure:</p>
<div class="image">
<img src="gmsh_beam_mesh.png" alt="" width="700px"/>
<div class="caption">
Gmsh beam geometry</div></div>
<p>The generated mesh file needs to be saved in a specific format by following the procedure:</p>
<div class="fragment"><div class="line">File -&gt; Export... -&gt; select name, e.g. gmesh_beam.msh and select Mesh - Gmsh MSH (*.msh) -&gt; select format as Version 2 ASCII -&gt; OK</div>
</div><!-- fragment --><p>The <em><a class="el" href="gmesh__beam_8msh.html">gmesh_beam.msh</a></em> file, consisting of 86 nodes and 247 elements are given as follows:</p>
<div class="fragment"><div class="line">$MeshFormat</div>
<div class="line">2.2 0 8</div>
<div class="line">$EndMeshFormat</div>
<div class="line">$PhysicalNames</div>
<div class="line">3</div>
<div class="line">2 2 &quot;DispBC&quot;</div>
<div class="line">2 3 &quot;PressureBC&quot;</div>
<div class="line">3 1 &quot;ElasticBlock&quot;</div>
<div class="line">$EndPhysicalNames</div>
<div class="line">$Nodes</div>
<div class="line">91</div>
<div class="line">1 0 0 1</div>
<div class="line">2 0 0 0</div>
<div class="line">3 0 1 1</div>
<div class="line">4 0 1 0</div>
<div class="line">5 10 0 1</div>
<div class="line">6 10 0 0</div>
<div class="line">7 10 1 1</div>
<div class="line">8 10 1 0</div>
<div class="line">9 1.000000000000002 0 0</div>
<div class="line">10 2.000000000000006 0 0</div>
<div class="line">11 3.000000000000009 0 0</div>
<div class="line">12 4.000000000000013 0 0</div>
<div class="line">13 5.000000000000011 0 0</div>
<div class="line">14 6.000000000000009 0 0</div>
<div class="line">15 7.000000000000006 0 0</div>
<div class="line">16 8.000000000000004 0 0</div>
<div class="line">17 9.000000000000002 0 0</div>
<div class="line">18 1.000000000000002 0 1</div>
<div class="line">19 2.000000000000006 0 1</div>
<div class="line">20 3.000000000000009 0 1</div>
<div class="line">21 4.000000000000013 0 1</div>
<div class="line">22 5.000000000000011 0 1</div>
<div class="line">23 6.000000000000009 0 1</div>
<div class="line">24 7.000000000000006 0 1</div>
<div class="line">25 8.000000000000004 0 1</div>
<div class="line">26 9.000000000000002 0 1</div>
<div class="line">27 1.000000000000002 1 0</div>
<div class="line">28 2.000000000000006 1 0</div>
<div class="line">29 3.000000000000009 1 0</div>
<div class="line">30 4.000000000000013 1 0</div>
<div class="line">31 5.000000000000011 1 0</div>
<div class="line">32 6.000000000000009 1 0</div>
<div class="line">33 7.000000000000006 1 0</div>
<div class="line">34 8.000000000000004 1 0</div>
<div class="line">35 9.000000000000002 1 0</div>
<div class="line">36 1.000000000000002 1 1</div>
<div class="line">37 2.000000000000006 1 1</div>
<div class="line">38 3.000000000000009 1 1</div>
<div class="line">39 4.000000000000013 1 1</div>
<div class="line">40 5.000000000000011 1 1</div>
<div class="line">41 6.000000000000009 1 1</div>
<div class="line">42 7.000000000000006 1 1</div>
<div class="line">43 8.000000000000004 1 1</div>
<div class="line">44 9.000000000000002 1 1</div>
<div class="line">45 0 0.5 0.5</div>
<div class="line">46 10 0.5 0.5</div>
<div class="line">47 3.500000000000012 0 0.5</div>
<div class="line">48 8.5 0 0.5</div>
<div class="line">49 9.5 0 0.5</div>
<div class="line">50 1.500000000000004 0 0.5</div>
<div class="line">51 2.500000000000008 0 0.5</div>
<div class="line">52 5.50000000000001 0 0.5</div>
<div class="line">53 6.500000000000007 0 0.5</div>
<div class="line">54 7.500000000000005 0 0.5</div>
<div class="line">55 0.5000000000000011 0 0.5</div>
<div class="line">56 4.500000000000012 0 0.4999999999999996</div>
<div class="line">57 3.500000000000011 1 0.5</div>
<div class="line">58 8.5 1 0.5</div>
<div class="line">59 9.5 1 0.5</div>
<div class="line">60 1.500000000000004 1 0.5</div>
<div class="line">61 2.500000000000008 1 0.5</div>
<div class="line">62 4.500000000000012 1 0.5000000000000004</div>
<div class="line">63 5.50000000000001 1 0.5</div>
<div class="line">64 6.500000000000007 1 0.5</div>
<div class="line">65 7.500000000000005 1 0.5</div>
<div class="line">66 0.5000000000000011 1 0.5</div>
<div class="line">67 3.500000000000012 0.5 0</div>
<div class="line">68 8.5 0.5 0</div>
<div class="line">69 5.50000000000001 0.5 0</div>
<div class="line">70 1.500000000000004 0.5 0</div>
<div class="line">71 2.500000000000008 0.5 0</div>
<div class="line">72 4.500000000000012 0.5000000000000004 0</div>
<div class="line">73 7.500000000000004 0.5 0</div>
<div class="line">74 0.5000000000000011 0.5 0</div>
<div class="line">75 6.500000000000007 0.5 0</div>
<div class="line">76 9.5 0.5 0</div>
<div class="line">77 3.500000000000012 0.5 1</div>
<div class="line">78 8.5 0.5 1</div>
<div class="line">79 9.5 0.5 1</div>
<div class="line">80 1.500000000000004 0.5 1</div>
<div class="line">81 2.500000000000008 0.5 1</div>
<div class="line">82 4.500000000000012 0.5 1</div>
<div class="line">83 5.50000000000001 0.5 1</div>
<div class="line">84 7.500000000000005 0.5 1</div>
<div class="line">85 0.5000000000000011 0.5 1</div>
<div class="line">86 6.500000000000007 0.5 1</div>
<div class="line">87 4.898604413415018 0.7189847025203557 0.6013955865849921</div>
<div class="line">88 3.000000000000009 0.5833333333333333 0.4999999999999999</div>
<div class="line">89 7.898604413412082 0.2810152974824323 0.3986044134120781</div>
<div class="line">90 4.976416255236775 0.427154606657296 0.5167583310649866</div>
<div class="line">91 7.976416255236875 0.5728453933430228 0.4832416689351284</div>
<div class="line">$EndNodes</div>
<div class="line">$Elements</div>
<div class="line">267</div>
<div class="line">1 2 2 2 1 2 1 45</div>
<div class="line">2 2 2 2 1 1 3 45</div>
<div class="line">3 2 2 2 1 4 2 45</div>
<div class="line">4 2 2 2 1 3 4 45</div>
<div class="line">5 2 2 3 4 3 66 4</div>
<div class="line">6 2 2 3 4 36 66 3</div>
<div class="line">7 2 2 3 4 4 66 27</div>
<div class="line">8 2 2 3 4 8 59 7</div>
<div class="line">9 2 2 3 4 7 59 44</div>
<div class="line">10 2 2 3 4 35 59 8</div>
<div class="line">11 2 2 3 4 27 60 28</div>
<div class="line">12 2 2 3 4 36 60 27</div>
<div class="line">13 2 2 3 4 27 66 36</div>
<div class="line">14 2 2 3 4 28 61 29</div>
<div class="line">15 2 2 3 4 28 60 37</div>
<div class="line">16 2 2 3 4 37 61 28</div>
<div class="line">17 2 2 3 4 29 57 30</div>
<div class="line">18 2 2 3 4 38 57 29</div>
<div class="line">19 2 2 3 4 29 61 38</div>
<div class="line">20 2 2 3 4 30 62 31</div>
<div class="line">21 2 2 3 4 30 57 39</div>
<div class="line">22 2 2 3 4 39 62 30</div>
<div class="line">23 2 2 3 4 31 63 32</div>
<div class="line">24 2 2 3 4 62 63 31</div>
<div class="line">25 2 2 3 4 32 64 33</div>
<div class="line">26 2 2 3 4 63 64 32</div>
<div class="line">27 2 2 3 4 33 65 34</div>
<div class="line">28 2 2 3 4 64 65 33</div>
<div class="line">29 2 2 3 4 34 58 35</div>
<div class="line">30 2 2 3 4 34 65 58</div>
<div class="line">31 2 2 3 4 35 58 44</div>
<div class="line">32 2 2 3 4 44 59 35</div>
<div class="line">33 2 2 3 4 37 60 36</div>
<div class="line">34 2 2 3 4 38 61 37</div>
<div class="line">35 2 2 3 4 39 57 38</div>
<div class="line">36 2 2 3 4 40 62 39</div>
<div class="line">37 2 2 3 4 41 63 40</div>
<div class="line">38 2 2 3 4 40 63 62</div>
<div class="line">39 2 2 3 4 42 64 41</div>
<div class="line">40 2 2 3 4 41 64 63</div>
<div class="line">41 2 2 3 4 43 65 42</div>
<div class="line">42 2 2 3 4 42 65 64</div>
<div class="line">43 2 2 3 4 44 58 43</div>
<div class="line">44 2 2 3 4 58 65 43</div>
<div class="line">45 4 2 1 1 36 60 50 85</div>
<div class="line">46 4 2 1 1 59 79 44 76</div>
<div class="line">47 4 2 1 1 76 79 26 49</div>
<div class="line">48 4 2 1 1 60 27 50 85</div>
<div class="line">49 4 2 1 1 27 74 55 66</div>
<div class="line">50 4 2 1 1 66 55 27 85</div>
<div class="line">51 4 2 1 1 57 67 12 77</div>
<div class="line">52 4 2 1 1 51 71 19 81</div>
<div class="line">53 4 2 1 1 27 50 70 60</div>
<div class="line">54 4 2 1 1 60 50 28 80</div>
<div class="line">55 4 2 1 1 50 60 28 70</div>
<div class="line">56 4 2 1 1 36 50 60 80</div>
<div class="line">57 4 2 1 1 61 28 71 81</div>
<div class="line">58 4 2 1 1 51 11 71 81</div>
<div class="line">59 4 2 1 1 61 11 81 71</div>
<div class="line">60 4 2 1 1 77 67 47 20</div>
<div class="line">61 4 2 1 1 47 12 67 77</div>
<div class="line">62 4 2 1 1 57 20 67 77</div>
<div class="line">63 4 2 1 1 18 9 85 50</div>
<div class="line">64 4 2 1 1 27 60 36 85</div>
<div class="line">65 4 2 1 1 18 36 50 85</div>
<div class="line">66 4 2 1 1 26 17 76 49</div>
<div class="line">67 4 2 1 1 44 26 76 79</div>
<div class="line">68 4 2 1 1 44 76 35 59</div>
<div class="line">69 4 2 1 1 9 85 50 27</div>
<div class="line">70 4 2 1 1 55 9 74 27</div>
<div class="line">71 4 2 1 1 30 67 12 57</div>
<div class="line">72 4 2 1 1 36 66 27 85</div>
<div class="line">73 4 2 1 1 9 18 85 55</div>
<div class="line">74 4 2 1 1 57 39 77 21</div>
<div class="line">75 4 2 1 1 9 85 27 55</div>
<div class="line">76 4 2 1 1 77 12 57 21</div>
<div class="line">77 4 2 1 1 36 18 50 80</div>
<div class="line">78 4 2 1 1 70 50 10 28</div>
<div class="line">79 4 2 1 1 19 71 28 81</div>
<div class="line">80 4 2 1 1 70 9 50 27</div>
<div class="line">81 4 2 1 1 37 60 28 80</div>
<div class="line">82 4 2 1 1 28 61 37 81</div>
<div class="line">83 4 2 1 1 19 10 71 51</div>
<div class="line">84 4 2 1 1 50 28 80 19</div>
<div class="line">85 4 2 1 1 29 11 61 71</div>
<div class="line">86 4 2 1 1 11 51 20 81</div>
<div class="line">87 4 2 1 1 67 11 47 20</div>
<div class="line">88 4 2 1 1 47 12 77 21</div>
<div class="line">89 4 2 1 1 38 20 57 77</div>
<div class="line">90 4 2 1 1 26 78 76 48</div>
<div class="line">91 4 2 1 1 35 48 76 78</div>
<div class="line">92 4 2 1 1 26 44 76 78</div>
<div class="line">93 4 2 1 1 78 76 35 44</div>
<div class="line">94 4 2 1 1 17 35 48 76</div>
<div class="line">95 4 2 1 1 26 17 48 76</div>
<div class="line">96 4 2 1 1 30 12 72 57</div>
<div class="line">97 4 2 1 1 39 30 72 57</div>
<div class="line">98 4 2 1 1 12 72 57 39</div>
<div class="line">99 4 2 1 1 19 28 37 81</div>
<div class="line">100 4 2 1 1 80 28 37 19</div>
<div class="line">101 4 2 1 1 28 50 10 19</div>
<div class="line">102 4 2 1 1 10 71 28 19</div>
<div class="line">103 4 2 1 1 39 57 12 21</div>
<div class="line">104 4 2 1 1 35 78 58 68</div>
<div class="line">105 4 2 1 1 35 48 78 68</div>
<div class="line">106 4 2 1 1 69 75 63 14</div>
<div class="line">107 4 2 1 1 35 78 44 58</div>
<div class="line">108 4 2 1 1 52 86 14 83</div>
<div class="line">109 4 2 1 1 63 64 41 75</div>
<div class="line">110 4 2 1 1 15 42 75 53</div>
<div class="line">111 4 2 1 1 15 42 84 73</div>
<div class="line">112 4 2 1 1 69 63 83 14</div>
<div class="line">113 4 2 1 1 83 52 69 14</div>
<div class="line">114 4 2 1 1 35 17 48 68</div>
<div class="line">115 4 2 1 1 84 53 42 15</div>
<div class="line">116 4 2 1 1 75 86 42 64</div>
<div class="line">117 4 2 1 1 86 75 42 53</div>
<div class="line">118 4 2 1 1 75 73 42 15</div>
<div class="line">119 4 2 1 1 86 41 64 75</div>
<div class="line">120 4 2 1 1 86 84 53 42</div>
<div class="line">121 4 2 1 1 54 53 84 15</div>
<div class="line">122 4 2 1 1 64 73 42 75</div>
<div class="line">123 4 2 1 1 75 86 14 53</div>
<div class="line">124 4 2 1 1 84 42 65 73</div>
<div class="line">125 4 2 1 1 84 15 73 54</div>
<div class="line">126 4 2 1 1 53 52 86 14</div>
<div class="line">127 4 2 1 1 65 64 73 42</div>
<div class="line">128 4 2 1 1 72 62 39 82</div>
<div class="line">129 4 2 1 1 63 41 83 75</div>
<div class="line">130 4 2 1 1 75 83 63 14</div>
<div class="line">131 4 2 1 1 41 86 83 75</div>
<div class="line">132 4 2 1 1 75 86 83 14</div>
<div class="line">133 4 2 1 1 84 86 53 24</div>
<div class="line">134 4 2 1 1 53 54 84 24</div>
<div class="line">135 4 2 1 1 63 32 75 69</div>
<div class="line">136 4 2 1 1 76 46 79 49</div>
<div class="line">137 4 2 1 1 59 46 79 76</div>
<div class="line">138 4 2 1 1 52 86 83 23</div>
<div class="line">139 4 2 1 1 52 53 86 23</div>
<div class="line">140 4 2 1 1 64 65 73 33</div>
<div class="line">141 4 2 1 1 72 12 56 21</div>
<div class="line">142 4 2 1 1 21 72 39 82</div>
<div class="line">143 4 2 1 1 30 39 72 62</div>
<div class="line">144 4 2 1 1 64 73 75 33</div>
<div class="line">145 4 2 1 1 66 55 45 74</div>
<div class="line">146 4 2 1 1 55 66 45 85</div>
<div class="line">147 4 2 1 1 64 63 32 75</div>
<div class="line">148 4 2 1 1 12 72 39 21</div>
<div class="line">149 4 2 1 1 78 48 25 91</div>
<div class="line">150 4 2 1 1 31 69 63 90</div>
<div class="line">151 4 2 1 1 84 78 25 91</div>
<div class="line">152 4 2 1 1 58 68 78 91</div>
<div class="line">153 4 2 1 1 68 48 78 91</div>
<div class="line">154 4 2 1 1 78 84 43 91</div>
<div class="line">155 4 2 1 1 69 31 72 90</div>
<div class="line">156 4 2 1 1 83 69 52 90</div>
<div class="line">157 4 2 1 1 63 69 83 90</div>
<div class="line">158 4 2 1 1 72 13 69 90</div>
<div class="line">159 4 2 1 1 78 43 58 91</div>
<div class="line">160 4 2 1 1 69 13 52 90</div>
<div class="line">161 4 2 1 1 65 43 84 91</div>
<div class="line">162 4 2 1 1 58 34 68 91</div>
<div class="line">163 4 2 1 1 56 13 72 90</div>
<div class="line">164 4 2 1 1 22 83 52 90</div>
<div class="line">165 4 2 1 1 65 58 43 91</div>
<div class="line">166 4 2 1 1 84 73 65 91</div>
<div class="line">167 4 2 1 1 84 54 73 91</div>
<div class="line">168 4 2 1 1 65 34 58 91</div>
<div class="line">169 4 2 1 1 73 68 34 91</div>
<div class="line">170 4 2 1 1 83 82 40 90</div>
<div class="line">171 4 2 1 1 56 52 13 90</div>
<div class="line">172 4 2 1 1 22 82 83 90</div>
<div class="line">173 4 2 1 1 22 52 56 90</div>
<div class="line">174 4 2 1 1 10 9 50 70</div>
<div class="line">175 4 2 1 1 18 50 80 19</div>
<div class="line">176 4 2 1 1 70 28 27 60</div>
<div class="line">177 4 2 1 1 60 37 36 80</div>
<div class="line">178 4 2 1 1 20 51 19 81</div>
<div class="line">179 4 2 1 1 10 11 71 51</div>
<div class="line">180 4 2 1 1 47 12 11 67</div>
<div class="line">181 4 2 1 1 71 29 28 61</div>
<div class="line">182 4 2 1 1 67 30 29 57</div>
<div class="line">183 4 2 1 1 38 37 61 81</div>
<div class="line">184 4 2 1 1 21 77 47 20</div>
<div class="line">185 4 2 1 1 55 9 2 74</div>
<div class="line">186 4 2 1 1 27 4 74 66</div>
<div class="line">187 4 2 1 1 39 38 57 77</div>
<div class="line">188 4 2 1 1 3 66 36 85</div>
<div class="line">189 4 2 1 1 85 1 55 18</div>
<div class="line">190 4 2 1 1 7 79 44 59</div>
<div class="line">191 4 2 1 1 7 5 79 46</div>
<div class="line">192 4 2 1 1 46 7 8 59</div>
<div class="line">193 4 2 1 1 46 8 6 76</div>
<div class="line">194 4 2 1 1 6 5 46 49</div>
<div class="line">195 4 2 1 1 2 4 45 74</div>
<div class="line">196 4 2 1 1 2 1 55 45</div>
<div class="line">197 4 2 1 1 45 4 3 66</div>
<div class="line">198 4 2 1 1 45 3 1 85</div>
<div class="line">199 4 2 1 1 79 5 26 49</div>
<div class="line">200 4 2 1 1 76 6 49 17</div>
<div class="line">201 4 2 1 1 35 8 59 76</div>
<div class="line">202 4 2 1 1 29 67 57 88</div>
<div class="line">203 4 2 1 1 61 38 81 88</div>
<div class="line">204 4 2 1 1 46 5 79 49</div>
<div class="line">205 4 2 1 1 76 6 46 49</div>
<div class="line">206 4 2 1 1 79 7 46 59</div>
<div class="line">207 4 2 1 1 8 46 59 76</div>
<div class="line">208 4 2 1 1 45 55 2 74</div>
<div class="line">209 4 2 1 1 66 3 45 85</div>
<div class="line">210 4 2 1 1 4 45 74 66</div>
<div class="line">211 4 2 1 1 1 55 45 85</div>
<div class="line">212 4 2 1 1 43 44 78 58</div>
<div class="line">213 4 2 1 1 34 35 58 68</div>
<div class="line">214 4 2 1 1 78 26 25 48</div>
<div class="line">215 4 2 1 1 22 83 23 52</div>
<div class="line">216 4 2 1 1 41 83 40 63</div>
<div class="line">217 4 2 1 1 69 52 13 14</div>
<div class="line">218 4 2 1 1 63 31 32 69</div>
<div class="line">219 4 2 1 1 24 23 86 53</div>
<div class="line">220 4 2 1 1 54 15 73 16</div>
<div class="line">221 4 2 1 1 84 42 43 65</div>
<div class="line">222 4 2 1 1 17 48 68 16</div>
<div class="line">223 4 2 1 1 84 25 24 54</div>
<div class="line">224 4 2 1 1 32 33 64 75</div>
<div class="line">225 4 2 1 1 14 15 75 53</div>
<div class="line">226 4 2 1 1 41 42 86 64</div>
<div class="line">227 4 2 1 1 72 30 62 31</div>
<div class="line">228 4 2 1 1 62 40 39 82</div>
<div class="line">229 4 2 1 1 13 12 56 72</div>
<div class="line">230 4 2 1 1 48 16 54 89</div>
<div class="line">231 4 2 1 1 54 25 48 89</div>
<div class="line">232 4 2 1 1 61 29 38 88</div>
<div class="line">233 4 2 1 1 57 38 29 88</div>
<div class="line">234 4 2 1 1 40 62 63 87</div>
<div class="line">235 4 2 1 1 63 62 31 87</div>
<div class="line">236 4 2 1 1 25 48 89 91</div>
<div class="line">237 4 2 1 1 22 56 21 90</div>
<div class="line">238 4 2 1 1 22 21 82 90</div>
<div class="line">239 4 2 1 1 63 87 31 90</div>
<div class="line">240 4 2 1 1 91 54 25 84</div>
<div class="line">241 4 2 1 1 91 25 54 89</div>
<div class="line">242 4 2 1 1 90 40 63 87</div>
<div class="line">243 4 2 1 1 90 63 40 83</div>
<div class="line">244 4 2 1 1 89 54 73 16</div>
<div class="line">245 4 2 1 1 89 73 54 91</div>
<div class="line">246 4 2 1 1 68 89 73 16</div>
<div class="line">247 4 2 1 1 68 73 89 91</div>
<div class="line">248 4 2 1 1 48 89 68 16</div>
<div class="line">249 4 2 1 1 48 68 89 91</div>
<div class="line">250 4 2 1 1 40 87 82 62</div>
<div class="line">251 4 2 1 1 40 82 87 90</div>
<div class="line">252 4 2 1 1 82 87 72 62</div>
<div class="line">253 4 2 1 1 82 72 87 90</div>
<div class="line">254 4 2 1 1 72 87 31 62</div>
<div class="line">255 4 2 1 1 72 31 87 90</div>
<div class="line">256 4 2 1 1 73 65 34 33</div>
<div class="line">257 4 2 1 1 73 34 65 91</div>
<div class="line">258 4 2 1 1 90 21 72 56</div>
<div class="line">259 4 2 1 1 90 72 21 82</div>
<div class="line">260 4 2 1 1 38 88 20 81</div>
<div class="line">261 4 2 1 1 38 20 88 57</div>
<div class="line">262 4 2 1 1 67 88 20 57</div>
<div class="line">263 4 2 1 1 29 88 11 67</div>
<div class="line">264 4 2 1 1 29 11 88 61</div>
<div class="line">265 4 2 1 1 81 88 11 61</div>
<div class="line">266 4 2 1 1 88 20 11 67</div>
<div class="line">267 4 2 1 1 88 11 20 81</div>
<div class="line">$EndElements</div>
</div><!-- fragment --><h1><a class="anchor" id="using_Gmsh_tut_solution"></a>
Solution</h1>
<p>The <em><a class="el" href="gmesh__beam_8msh.html">gmesh_beam.msh</a></em> file is ready to be used with <a class="el" href="namespace_mo_f_e_m.html" title="implementation of Data Operators for Forces and Sources">MoFEM</a>. The next step is to convert the <em><a class="el" href="gmesh__beam_8msh.html">gmesh_beam.msh</a></em> file to out.h5m file using configuration file <em>gmesh_beam.cfg</em> with the following command:</p>
<div class="fragment"><div class="line">../../tools/add_meshsets -my_file gmesh_beam.msh -meshsets_config gmesh_beam.cfg</div>
</div><!-- fragment --><p>The associated gmesh_beam.cfg file is given as:</p>
<div class="fragment"><div class="line">[block_1]</div>
<div class="line"> </div>
<div class="line">id=1001</div>
<div class="line">add=BLOCKSET</div>
<div class="line">name=MAT_ELASTIC</div>
<div class="line">young=10</div>
<div class="line">poisson=0.25</div>
<div class="line">thermalexpansion=0</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">[block_2]</div>
<div class="line"> </div>
<div class="line">id=1002</div>
<div class="line">add=NODESET</div>
<div class="line">disp_flag1=1 # Setting constrains in x- dir ection</div>
<div class="line">disp_flag2=1 # Setting constrains in y- direction</div>
<div class="line">disp_flag3=1 # Setting constrains in z- direction</div>
<div class="line">disp_flag4=0</div>
<div class="line">disp_flag5=0</div>
<div class="line">disp_flag6=0</div>
<div class="line">disp_ux=0</div>
<div class="line">disp_uy=0</div>
<div class="line">disp_uz=0</div>
<div class="line">disp_rx=0</div>
<div class="line">disp_ry=0</div>
<div class="line">disp_rz=0</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">[block_3]</div>
<div class="line"> </div>
<div class="line">id=1003</div>
<div class="line">add=SIDESET</div>
<div class="line">pressure_flag2=0       </div>
<div class="line">pressure_magnitude=1</div>
</div><!-- fragment --><p>The use of <em>gmesh_beam.cfg</em> file with the above command will convert the physical groups in <em><a class="el" href="gmesh__beam_8msh.html">gmesh_beam.msh</a></em> in to associated BLOCKSET, NODESET and SIDESET, understandable to <a class="el" href="namespace_mo_f_e_m.html" title="implementation of Data Operators for Forces and Sources">MoFEM</a>. The first block, i.e. block_1 will convert to BLOCKSET with id=1001. Which is used as MAT_ELASTIC with assigned material properties. Similarly, block_2 and block_3 are converted to NODESET (id=1002) and SIDESET (id=1003) and are used for displacement and pressure boundary conditions. Subsequently, the following command is used to run the elastic analysis on the beam problem:</p>
<div class="fragment"><div class="line">mpirun -np 1 ./elasticity -my_file out.h5m -my_order 1</div>
</div><!-- fragment --><p>This will create out.h5m file, which is then converted to out.vtk file using</p>
<div class="fragment"><div class="line">mbconvert out.h5m out.vtk</div>
</div><!-- fragment --><h1><a class="anchor" id="using_Gmsh_tut_post_process"></a>
Post-processing</h1>
<p>The out.vtk file can be viewed in <a href="https://www.paraview.org/">Paraview</a>. For the beam problem, the output is shown in the following figure.</p>
<div class="image">
<img src="gmsh_post_process.png" alt="" width="700px"/>
<div class="caption">
Beam post-process result</div></div>
 </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr cla ss="footer" />
<style>
  img[src="UoGLogo.png"] {
    height: 20px;
    padding-top: 0px;
    padding-right: 1px;
    padding-bottom: 3px;
    padding-left: 6px;
  }
</style>
<address class="footer">
  <small>
    Generated by
    <a href="http://www.doxygen.org/index.html"> Doxygen </a> 1.12.0
    and hosted at
    <a href="http://www.gla.ac.uk/schools/engineering/">
      <img class="footer" src="UoGLogo.png" alt="University of Glasgow" />
    </a>
  </small>
</address>
</body>
</html>
