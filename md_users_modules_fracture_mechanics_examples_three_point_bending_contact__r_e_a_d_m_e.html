<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=9"/>
  <meta name="generator" content="Doxygen 1.9.5"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>MoFEM: README</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
  <script type="text/javascript " src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML "></script>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        extensions: ["AMSmath.js"],
        TeX: { equationNumbers: { autoNumber: ["all"],
                                  useLabelIds: true
        } 
        }
    });
    </script>
  <link href="customdoxygen.css" rel="stylesheet" type="text/css" />
  <link href="extra_style.css" rel="stylesheet" type="text/css"/>
  <link rel="apple-touch-icon" sizes="57x57" href="apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="shortcut icon" type="image/png" href="favicon-32x32.png"/>
  <link rel="Bookmark" type="image/png" href="favicon-32x32.png"/>
  <link rel="manifest" href="manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div style="background-color:#011A40" id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 30px;">
  <td id="projectlogo"><img alt="Logo" src="MoFEMLogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <td style="padding-left: 0.5em;" bgcolor="#011A40"
   <div id="projectbrief"><font color="#FFFFFF">v0.14.0</font></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!--Google analytics tags-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-65236130-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2J9RE2P3H5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-2J9RE2P3H5');
</script><!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">README </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><ul><li class="level2"><a href="#autotoc_md91">Brief description</a></li>
<li class="level2"><a href="#autotoc_md92">1. Prepare the &lt;em&gt;med&lt;/em&gt; mesh file in &lt;em&gt;Salome&lt;/em&gt;</a><ul><li class="level3"><a href="#autotoc_md93">Geometry</a></li>
<li class="level3"><a href="#autotoc_md94">Mesh</a></li>
</ul>
</li>
<li class="level2"><a href="#autotoc_md95">2. Prepare the config file</a></li>
<li class="level2"><a href="#autotoc_md96">3. Generate the &lt;em&gt;h5m&lt;/em&gt; file</a></li>
<li class="level2"><a href="#autotoc_md97">4. Prepare the param file</a></li>
<li class="level2"><a href="#autotoc_md98">5. Calibrate the spring stiffness (tangential)</a></li>
<li class="level2"><a href="#autotoc_md99">6. Calibrate contact parameter &lt;em&gt;cn&lt;/em&gt;</a></li>
<li class="level2"><a href="#autotoc_md100">7. Run the crack propagation analysis</a></li>
<li class="level2"><a href="#autotoc_md101">8. Postprocessing</a></li>
</ul>
</ul>
</div>
<div class="textblock"><h2><a class="anchor" id="autotoc_md91"></a>
Brief description</h2>
<p >Three-point-bending crack propagation test in the presence of contact conditions.</p>
<h2><a class="anchor" id="autotoc_md92"></a>
1. Prepare the &lt;em&gt;med&lt;/em&gt; mesh file in &lt;em&gt;Salome&lt;/em&gt;</h2>
<p ><em><b><em>NOTE:</em></b></em> In order to use the matching meshes contact the solids need to touch each other along the contact surface in the input mesh. Presented below is a rather general approach which permits to mesh the contacting solids separately, refine these meshes around the contact surface, and, finally, merge the meshes together. You can find additional rules on definition of contact interfaces with matching meshes in the <a href="https://bitbucket.org/mofem/users-modules-cephas/src/develop/basic_finite_elements/simple_contact/README.md">Readme file</a> of the <code>simple_contact</code> directory (Basic User Module).</p>
<h3><a class="anchor" id="autotoc_md93"></a>
Geometry</h3>
<ul>
<li>Create the contacting solids separately</li>
<li>Use <em>Intersection</em> to find common geometrical entities</li>
<li>Create the contact surface using <em>Build -&gt; Face</em> from the intersection</li>
<li><em>Partition</em> solids with the intersection (one by one)</li>
<li>Create initial crack face</li>
<li>Create all necessary groups in the partitioned solids and on the crack face:<ul>
<li>Groups of volumes for solid blocks</li>
<li>Groups of edges for fixed BCs</li>
<li>Group of faces for load BCs</li>
<li>Group of faces for springs</li>
<li>Group of faces for the contact interface (same name per contact interface for both solids)</li>
<li>Group of all physical vertices (same name for both solids)</li>
<li>Group of all physical edges (same name for both solids)</li>
<li>Group of faces for the initial crack surface</li>
</ul>
</li>
</ul>
<p ><em><b><em>NOTE:</em></b></em> Springs can be used to eliminate rigid body motions caused by the interplay between the contact conditions and the load (pressure) control. It is recommended to append the springs to the same surface where the pressure is applied.</p>
<h3><a class="anchor" id="autotoc_md94"></a>
Mesh</h3>
<ul>
<li>Mesh each solid separately</li>
<li>Create mesh groups from the geometry groups (for each solid separately)</li>
<li>Mesh the crack surface</li>
<li>Create group of faces for the crack surface (from the corresponding geometry group)</li>
<li>Mesh the contact surface (sufficiently fine)</li>
<li>Create a group of faces from the meshed contact surface</li>
<li>Create a <em>Submesh</em> for each solid coming to contact:<ul>
<li><em>Geometry:</em> contact group from the solid's geometry</li>
<li><em>Algorithm:</em> Import 1D-2D Elements from Another Mesh</li>
<li><em>Hypothesis -&gt; Source Faces:</em> group of faces from the meshed contact surface</li>
</ul>
</li>
<li>Recompute meshes</li>
<li>Build <em>Compound mesh</em> of solids with node merging on</li>
<li>Build <em>Compound mesh</em> of compounded solids and the crack without merging nodes</li>
<li>Export the latter Compound mesh to the <em>MED</em> file</li>
</ul>
<h2><a class="anchor" id="autotoc_md95"></a>
2. Prepare the config file</h2>
<ul>
<li>To list IDs of all blocks in the <em>MED</em> file: <div class="fragment"><div class="line">$HOME/mofem_install/um/build_release/tools/read_med -med_file three_point_bending.med</div>
</div><!-- fragment --></li>
<li>Check <em>BLOCKSET</em> for the contact interface in the config file <code>three_point_bending.cfg</code> <div class="fragment"><div class="line"># Contact interface</div>
<div class="line">[block_2]               # Block ID in MED file </div>
<div class="line">id=2004                 # Block ID in the output *.h5m file</div>
<div class="line">add=BLOCKSET            # Block type</div>
<div class="line">name=INT_CONTACT        # Block name (starts exactly like this)</div>
</div><!-- fragment --></li>
<li>Check <em>BLOCKSET</em> for springs in the same config file <div class="fragment"><div class="line"># Springs on the loading frame and on the brick slice</div>
<div class="line">[block_8]               # Block ID in MED file </div>
<div class="line">id=2005                 # Block ID in the output *.h5m file</div>
<div class="line">add=BLOCKSET            # Block type</div>
<div class="line">name=SPRING_BC          # Block name (starts exactly like this)</div>
<div class="line">user1=0                 # Spring stiffness in normal direction [MPa]</div>
<div class="line">user2=1e-2              # Spring stiffness in tangential directions [MPa]</div>
</div><!-- fragment --> <em><b><em>NOTE:</em></b></em> For the considered example the normal stiffness can be set initially to <code>0</code> (will be verified below), while the tangential one can be set to <code>1e-6</code> of the the Young's modulus of the solid to which these springs are attached. The calibration of this parameter will be discussed below.</li>
</ul>
<h2><a class="anchor" id="autotoc_md96"></a>
3. Generate the &lt;em&gt;h5m&lt;/em&gt; file</h2>
<ul>
<li>Generate <code>three_point_bending.h5m</code> file: <div class="fragment"><div class="line">$HOME/mofem_install/um/build_release/tools/read_med -med_file three_point_bending.med \</div>
<div class="line">-meshsets_config three_point_bending.cfg \</div>
<div class="line">-output_file three_point_bending.h5m</div>
</div><!-- fragment --></li>
<li>The correct definition of all blocks can be verified by generating <code>vtk</code> files for each one of them for visualisation in <em>Paraview</em>: <div class="fragment"><div class="line">$HOME/mofem_install/um/build_release/tools/meshset_to_vtk -my_file three_point_bending.h5m</div>
</div><!-- fragment --></li>
</ul>
<h2><a class="anchor" id="autotoc_md97"></a>
4. Prepare the param file</h2>
<p >Check following parameters in the param file <code>param_file.petsc</code>: </p><div class="fragment"><div class="line">-my_contact_order 2              # default value 2</div>
<div class="line">-my_lambda_contact_order 1       # default value 1 (not to be changed)</div>
<div class="line">-my_cn_value 1.e4                # default value 1.0</div>
<div class="line">-my_r_value 1.0                  # default value 1.0 (not to be changed)</div>
<div class="line">-my_cracked_body_block_set 1001  # Block ID of the fractured solid</div>
</div><!-- fragment --><p ><em><b><em>NOTE:</em></b></em> Definition of the Block ID of the fractured solid in the param file is required for the crack propagation with contact conditions.</p>
<p ><em><b><em>NOTE:</em></b></em> The initial recommended value of the contact augmentation parameter <code>cn</code> is the Young's modulus of the contacting solids (or the harmonic mean in case of different values). The further calibration of this parameter will be discussed below.</p>
<h2><a class="anchor" id="autotoc_md98"></a>
5. Calibrate the spring stiffness (tangential)</h2>
<p >Springs can be used to eliminate the rigid body motion in a contact simulation under the pressure control. However, their stiffness is artificial and may affect stiffness/energy of the modelled system and, consequently, the resulting load factor for the crack propagation. Therefore, it is recommended to calibrate the stiffness in order to find the minimal value which permits to avoid the unwanted motion.</p>
<ul>
<li>Run elasticity simulation for the mesh with the initial crack inserted: <div class="fragment"><div class="line">mpirun -np 2 $HOME/mofem_install/um/build_release/mofem_um_fracture_mechanics/crack_propagation \</div>
<div class="line">-my_file three_point_bending.h5m \</div>
<div class="line">-my_propagate_crack 0 \</div>
<div class="line">2&gt;&amp;1 | tee log</div>
</div><!-- fragment --></li>
<li>Correct identification of the contact interface can be verified by observing the following line in the output (<code>log</code> file): <div class="fragment"><div class="line">[0] &lt;inform&gt; [petsc] Insert INT_CONTACT (id: 2004)</div>
</div><!-- fragment --></li>
<li>The values of the material properties and spring stiffness can also be checked in the output (<code>log</code> file): <div class="fragment"><div class="line">[0] &lt;inform&gt; [petsc] Material block 1001 </div>
<div class="line">[0] &lt;inform&gt; [petsc]    Young&#39;s modulus 1.0900e+04 </div>
<div class="line">[0] &lt;inform&gt; [petsc]    Poisson&#39;s ratio 2.0000e-01 </div>
<div class="line">[0] &lt;inform&gt; [petsc] </div>
<div class="line">[0] &lt;inform&gt; [petsc] </div>
<div class="line">[0] &lt;inform&gt; [petsc] Material block 1002 </div>
<div class="line">[0] &lt;inform&gt; [petsc]    Young&#39;s modulus 1.0900e+04 </div>
<div class="line">[0] &lt;inform&gt; [petsc]    Poisson&#39;s ratio 2.0000e-01 </div>
<div class="line">[0] &lt;inform&gt; [petsc] </div>
<div class="line">[0] &lt;inform&gt; [petsc] </div>
<div class="line">[0] &lt;inform&gt; [petsc] Spring block 2005</div>
<div class="line">[0] &lt;inform&gt; [petsc]    Normal stiffness   0</div>
<div class="line">[0] &lt;inform&gt; [petsc]    Tangent stiffness 0.01</div>
</div><!-- fragment --></li>
<li>Check output for the number of SNES and KSP iterations: <div class="fragment"><div class="line">[0] &lt;inform&gt; [petsc]   0 SNES Function norm 1.000000000000e+00 </div>
<div class="line">[0] &lt;inform&gt; [petsc]     Residual norms for elastic_ solve.</div>
<div class="line">[0] &lt;inform&gt; [petsc]     0 KSP Residual norm 6.593276968231e+00 </div>
<div class="line">[0] &lt;inform&gt; [petsc]     1 KSP Residual norm 2.265280970427e-12 </div>
<div class="line">[0] &lt;inform&gt; [Arc]  F_lambda2 =   4838 lambda =      1</div>
<div class="line">[0] &lt;inform&gt; [petsc]   1 SNES Function norm 5.018029619260e+01 </div>
<div class="line">[0] &lt;inform&gt; [petsc]     Residual norms for elastic_ solve.</div>
<div class="line">[0] &lt;inform&gt; [petsc]     0 KSP Residual norm 1.207850396738e+00 </div>
<div class="line">[0] &lt;inform&gt; [petsc]     1 KSP Residual norm 2.005935409209e-14 </div>
<div class="line">[0] &lt;inform&gt; [Arc]  F_lambda2 =   4838 lambda =      1</div>
<div class="line">[0] &lt;inform&gt; [petsc]   2 SNES Function norm 8.692812278752e-02 </div>
<div class="line">[0] &lt;inform&gt; [petsc]     Residual norms for elastic_ solve.</div>
<div class="line">[0] &lt;inform&gt; [petsc]     0 KSP Residual norm 1.398009933371e-02 </div>
<div class="line">[0] &lt;inform&gt; [petsc]     1 KSP Residual norm 1.078518671675e-16 </div>
<div class="line">[0] &lt;inform&gt; [Arc]  F_lambda2 =   4838 lambda =      1</div>
<div class="line">[0] &lt;inform&gt; [petsc]   3 SNES Function norm 1.799626823532e-09 </div>
<div class="line">[0] &lt;inform&gt; [petsc]     Residual norms for elastic_ solve.</div>
<div class="line">[0] &lt;inform&gt; [petsc]     0 KSP Residual norm 1.137713763876e-10 </div>
<div class="line">[0] &lt;inform&gt; [petsc]     1 KSP Residual norm 1.763018416865e-24 </div>
<div class="line">[0] &lt;inform&gt; [Arc]  F_lambda2 =   4838 lambda =      1</div>
<div class="line">[0] &lt;inform&gt; [petsc]   4 SNES Function norm 1.123275702526e-09 </div>
<div class="line">[0] &lt;inform&gt; [petsc] Nonlinear elastic_ solve converged due to CONVERGED_SNORM_RELATIVE iterations 4</div>
<div class="line">[0] &lt;inform&gt; [petsc] solution fnorm  = 1.96154083e+03</div>
</div><!-- fragment --></li>
<li>Convert output <code>h5m</code> files to <code>vtk</code> <div class="fragment"><div class="line">$HOME/mofem_install/um/build_release/tools/convert.py -np 2 out_spatial* out_contact* </div>
</div><!-- fragment --></li>
<li>Visualize solution with <em>Paraview</em> (see Postprocessing for more details): <div class="fragment"><div class="line">open out_spatial_0.vtk out_contact_0.vtk</div>
</div><!-- fragment --></li>
<li><p class="startli">If at least one of the following issues is observed:</p><ul>
<li>convergence is not achieved,</li>
<li>more than 1-2 KSP iterations are required per one SNES iteration,</li>
<li>an unwanted motion is present (in the visualisation of <code>out_spatial_0.vtk</code>),</li>
</ul>
<p class="startli">then the spring tangential stiffness may be increased (e.g. by a factor of <code>10</code>) in the <code>three_point_bending.cfg</code> file. After that the <code>three_point_bending.h5m</code> needs to be regenerated and the convergence and rigid body motions are to be checked again.</p>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md99"></a>
6. Calibrate contact parameter &lt;em&gt;cn&lt;/em&gt;</h2>
<p ><a class="el" href="struct_contact.html">Contact</a> augmentation parameter <code>cn</code> practically does not have effect on the solution of the contact problem (in the range of its values that permits convergence), but can have significant effect on the convergence itself. Therefore, it is recommended to calibrate this parameter to reduce the number of SNES iterations:</p>
<ul>
<li>Run elasticity simulation for the mesh with the crack for a different value of <code>cn</code>: <div class="fragment"><div class="line">mpirun -np 2 $HOME/mofem_install/um/build_release/mofem_um_fracture_mechanics/crack_propagation \</div>
<div class="line">-my_file three_point_bending.h5m \</div>
<div class="line">-my_propagate_crack 0 \</div>
<div class="line">-my_cn_value 1e3 \</div>
<div class="line">2&gt;&amp;1 | tee log</div>
</div><!-- fragment --></li>
<li>The value of the <code>cn</code> parameter can be verified in the output (<code>log</code> file): <div class="fragment"><div class="line">[0] &lt;inform&gt; [petsc] ### Input parameter: -my_cn_value 1.0000e+03</div>
</div><!-- fragment --></li>
<li>Check the number of SNES iterations <div class="fragment"><div class="line">[0] &lt;inform&gt; [petsc]   0 SNES Function norm 1.000000000000e+00</div>
<div class="line">[0] &lt;inform&gt; [petsc]     Residual norms for elastic_ solve.</div>
<div class="line">[0] &lt;inform&gt; [petsc]     0 KSP Residual norm 5.036499506247e+00</div>
<div class="line">[0] &lt;inform&gt; [petsc]     1 KSP Residual norm 4.457975392822e-12</div>
<div class="line">[0] &lt;inform&gt; [Arc]      F_lambda2 =   4838 lambda =      1</div>
<div class="line">[0] &lt;inform&gt; [petsc]   1 SNES Function norm 4.965527994591e+01</div>
<div class="line">[0] &lt;inform&gt; [petsc]     Residual norms for elastic_ solve.</div>
<div class="line">[0] &lt;inform&gt; [petsc]     0 KSP Residual norm 3.500850747304e+00</div>
<div class="line">[0] &lt;inform&gt; [petsc]     1 KSP Residual norm 1.334586168641e-13</div>
<div class="line">[0] &lt;inform&gt; [Arc]      F_lambda2 =   4838 lambda =      1</div>
<div class="line">[0] &lt;inform&gt; [petsc]   2 SNES Function norm 3.040087225472e-10</div>
<div class="line">[0] &lt;inform&gt; [petsc]     Residual norms for elastic_ solve.</div>
<div class="line">[0] &lt;inform&gt; [petsc]     0 KSP Residual norm 1.266813656664e-10</div>
<div class="line">[0] &lt;inform&gt; [petsc]     1 KSP Residual norm 6.276204766206e-24</div>
<div class="line">[0] &lt;inform&gt; [Arc]      F_lambda2 =   4838 lambda =      1</div>
<div class="line">[0] &lt;inform&gt; [petsc]   3 SNES Function norm 2.634697341395e-10</div>
<div class="line">[0] &lt;inform&gt; [petsc] Nonlinear elastic_ solve converged due to CONVERGED_SNORM_RELATIVE iterations 3</div>
<div class="line">[0] &lt;inform&gt; [petsc] solution fnorm  = 1.96154083e+03</div>
</div><!-- fragment --></li>
<li>Store the optimal value in the param file <code>param_file.petsc</code>: <div class="fragment"><div class="line">-my_cn_value 1.e3          </div>
</div><!-- fragment --></li>
</ul>
<h2><a class="anchor" id="autotoc_md100"></a>
7. Run the crack propagation analysis</h2>
<p >Once the following points are verified:</p>
<ul>
<li><a class="el" href="struct_contact.html">Contact</a> interface is correctly identified;</li>
<li>Spring stiffness is calibrated, its value is stored in the <code>three_point_bending.cfg</code> file and the <code>three_point_bending.h5m</code> file is updated;</li>
<li><a class="el" href="struct_contact.html">Contact</a> parameter <code>cn</code> is calibrated and the value is stored in the<code>param_file.petsc</code> file;</li>
</ul>
<p >one can kick-start the crack propagation analysis (using the usual ways of supervising the computation): </p><div class="fragment"><div class="line">mpirun -np 2 $HOME/mofem_install/um/build_release/mofem_um_fracture_mechanics/crack_propagation \</div>
<div class="line">-my_file three_point_bending.h5m \</div>
<div class="line">2&gt;&amp;1 | tee log</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md101"></a>
8. Postprocessing</h2>
<p >All the usual output files of the <code>crack_propagation</code> analysis are created and can be postprocessed in the standard way. Furthermore, the nodal interpolation of Lagrange multipliers (equivalent to contact pressure) is output to files <code>out_contact_N.h5m</code>, where <code>N</code> is the number of the step. Moreover, the values of the Lagrange multipliers and the normal gap at the gauss points of the contact interface are output to files <code>out_contact_integ_pts_N.h5m</code>.</p>
<ul>
<li>Convert output <code>h5m</code> files to <code>vtk</code> using multiprocessing script <code><a class="el" href="convert_8py.html">convert.py</a></code>: <div class="fragment"><div class="line">$HOME/mofem_install/um/build_release/tools/convert.py -np 2 out_spatial* out_contact* </div>
</div><!-- fragment --></li>
<li>Files <code>out_spatial_N.vtk</code> contain material coordinates (tag <code>MESH_NODE_POSITIONS</code>) and current coordinates (tag <code>SPATIAL_POSITION</code>), which can be used to compute the displacement field with the <em>Calculator</em> filter as <code>DISPLACEMENT=SPATIAL_POSITION-MESH_NODE_POSITIONS</code></li>
<li>Files <code>out_contact_N.vtk</code> contain the nodal interpolation of the Lagrange multipliers equivalent to the contact pressure (tag <code>LAMBDA_CONTACT</code>)</li>
<li>Files <code>out_contact_integ_pts_N.vtk</code> contain values of Lagrange multipliers (tag <code>LAMBDA_CONTACT</code>) and the normal gap (tag <code>GAP</code>) at gauss points of the contact interface. Note that the <em>Point Gaussian</em> representation or alternatively the <em>Glyph</em> filter should be used for the visualisation of the gauss point data. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr cla ss="footer" />
<style>
  img[src="UoGLogo.png"] {
    height: 20px;
    padding-top: 0px;
    padding-right: 1px;
    padding-bottom: 3px;
    padding-left: 6px;
  }
</style>
<address class="footer">
  <small>
    Generated by
    <a href="http://www.doxygen.org/index.html"> Doxygen </a> 1.9.5
    and hosted at
    <a href="http://www.gla.ac.uk/schools/engineering/">
      <img class="footer" src="UoGLogo.png" alt="University of Glasgow" />
    </a>
  </small>
</address>
</body>
</html>